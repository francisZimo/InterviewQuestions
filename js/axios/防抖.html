<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

</head>
<body>
    <script>
        // const CancelToken=axios.CancelToken;
        // const source=CancelToken.source();
        // axios.get('https://studentlive.xueersi.com/v2/student/puzzle/classpk/answerStatus/getList',{
        //     cancelToken:source.token
        // }).catch(function(thrown){
        //     console.log('thrown',thrown)
        //     if(axios.isCancel(thrown)){
        //         comsole.log('取消请求',thrown.message)
        //     }else{
        //         console.log('处理错误')
        //     }
        // })
            
        const CancelToken =axios.CancelToken;
        // const source=CancelToken.source()
        // axios.get('https://studentlive.xueersi.com/v2/student/puzzle/classpk/answerStatus/getList',{
        //     cancelToken:source.token
        // }).catch(function(thrown){
        //     if(axios.isCancel(thrown)){
        //         console.log('请求取消',thrown.message)
        //     }else{
        //         console.log('错误处理')
        //     }
        // })


        // axios.post('https://studentlive.xueersi.com/v2/student/puzzle/classpk/answerStatus/getList', {
        //     name: 'new name'
        //     }, {
        //     cancelToken: source.token
        //     })

// // 取消请求（message 参数是可选的）
// source.cancel('Operation canceled by the user.');




// cancle 对象
      let cancel;
      axios.get('https://studentlive.xueersi.com/v2/student/puzzle/classpk/answerStatus/getList',{
        // 在options中直接创建一个cancelToken对象  
        cancelToken:new CancelToken(function executor(c){
            cancel=c
          })
      }).catch((thrown)=>{
        if(axios.isCancel(thrown)){
            console.log('axios 取消请求',thrown.message)
        }else{
            console.log('报错')
        }
      })
      // 取消上面的请求
      cancel('hah')     

    </script>
</body>
</html>