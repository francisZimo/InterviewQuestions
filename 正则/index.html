<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <p>https://juejin.cn/post/7021672733213720613</p>
    <p>ä½ç½®ï¼š^ã€$ã€\bã€\Bã€?=pã€(?!p)ã€(?<=p)ã€(?<!p)</p>

    <script>   
        let string = 'hello'
        console.log(string.replace(/^/, 'ğŸ˜„')) // ğŸ˜„hello
        console.log(string.replace(/$/, 'ğŸ˜„')) // helloğŸ˜„
        console.log('xxx_love_study_1.mp4'.replace(/\b/g, 'â¤ï¸')) // â¤ï¸xxx_love_study_1â¤ï¸.â¤ï¸mp4â¤ï¸
        console.log('xxx_love_study_1.mp4'.replace(/\B/g, 'â¤ï¸')) // xâ¤ï¸xâ¤ï¸xâ¤ï¸_â¤ï¸lâ¤ï¸oâ¤ï¸vâ¤ï¸eâ¤ï¸_â¤ï¸sâ¤ï¸tâ¤ï¸uâ¤ï¸dâ¤ï¸yâ¤ï¸_â¤ï¸1.mâ¤ï¸pâ¤ï¸4
        console.log('xxx_love_study_1.mp4'.replace('xxx', 'â¤ï¸')) // â¤ï¸_love_study_1.mp4
        console.log('xxx_l-ove_study_1.mp4'.replace(/(?=[xxx-])/g, 'â¤ï¸'),'flag') // â¤ï¸xxx_love_study_1.mp4 æ­£å‘å…ˆè¡Œæ–­è¨€
        console.log('xxx_love_study_1.mp4'.replace(/(?<=xxx)/g, 'â¤ï¸')) //xxxâ¤ï¸_love_study_1.mp4
        console.log('xxx_love_study_1.mp4'.replace(/(?!xxx)/g, 'â¤ï¸')) // xâ¤ï¸xâ¤ï¸xâ¤ï¸_â¤ï¸lâ¤ï¸oâ¤ï¸vâ¤ï¸eâ¤ï¸_â¤ï¸sâ¤ï¸tâ¤ï¸uâ¤ï¸dâ¤ï¸yâ¤ï¸_â¤ï¸1â¤ï¸.â¤ï¸mâ¤ï¸pâ¤ï¸4â¤ï¸  å‰ä¸åŒ¹é…
        console.log('xxx_love_study_1.mp4'.replace(/(?<!xxx)/g, 'â¤ï¸')) //â¤ï¸xâ¤ï¸xâ¤ï¸x_â¤ï¸lâ¤ï¸oâ¤ï¸vâ¤ï¸eâ¤ï¸_â¤ï¸sâ¤ï¸tâ¤ï¸uâ¤ï¸dâ¤ï¸yâ¤ï¸_â¤ï¸1â¤ï¸.â¤ï¸mâ¤ï¸pâ¤ï¸4â¤ï¸ åä¸åŒ¹é…
        //æ•°å­—çš„åƒåˆ†ä½åˆ†å‰²æ³• å°†123456789è½¬åŒ–ä¸º123,456,789
        console.log('123456789'.replace(/(?=\d{3}$)/g,',')) // 123456,789
        console.log('123456789'.replace(/(?=(\d{3})+$)/g,',')) // ,123,456,789
        console.log('123456789'.replace(/(?!^)(?=(\d{3})+$)/g,',')) // ,123,456,789
        // æ‰‹æœºå·3-4-4åˆ†å‰²  å°†æ‰‹æœºå·18379836654è½¬åŒ–ä¸º183-7983-6654
        console.log('18379836654'.replace(/(?=(\d{4})+$)/g,'-'))
        // å°†æ‰‹æœºå·11ä½ä»¥å†…çš„æ•°å­—è½¬åŒ–ä¸º3-4-4æ ¼å¼
        console.log('123'.replace(/(?<=\d{3})/,'-')) //123-
        console.log('123'.replace(/(?<=\d{3})\d/,'-')) //123
        const formatMobile = (mobile) => {
            let s= String(mobile).slice(0,11)
                .replace(/(?<=\d{3})\d+/, (res) => {
                    console.log(res,'==res1')
                    return '-'+res
                })
                let c=s.replace(/(?<=[\d-]{8})\d{1,4}/,res=>{
                    return '-'+res  
                })
                return c 
        }
        console.log(formatMobile('12345678911'),'==formatMobile2')
        console.log(/(?<=[\d-]{8})\d{1,4}/.test('12345678911'),'==xx')
        console.log('12345678911'.match(/(?<=[\d]{7})\d{1,4}/),'===match') 
        // éªŒè¯å¯†ç çš„åˆæ³•æ€§ å¯†ç é•¿åº¦æ˜¯6-12ä½ï¼Œç”±æ•°å­—ã€å°å†™å­—ç¬¦å’Œå¤§å†™å­—æ¯ç»„æˆï¼Œä½†å¿…é¡»è‡³å°‘åŒ…æ‹¬2ç§å­—ç¬¦
        // é¢˜ç›®ç”±ä¸‰ä¸ªæ¡ä»¶ç»„ â‘  å¯†ç é•¿åº¦æ˜¯6-12ä½ â‘¡ ç”±æ•°å­—ã€å°å†™å­—ç¬¦å’Œå¤§å†™å­—æ¯ç»„æˆ â‘¢ å¿…é¡»è‡³å°‘åŒ…æ‹¬2ç§å­—ç¬¦
        let reg1=/[a-zA-Z\d]{6,12}/;
        console.log(reg1.test('hello1'),'6-12ä¸ªå­—')
        // å¿…é¡»åŒ…å«æ•°å­—
        let reg = /(?=.*\d)/ 
        console.log(reg.test('hello'),'å¿…å«æ•°å­—')
        console.log(reg.test('he22llo'),'å¿…å«æ•°å­—')
        //  å¿…é¡»åŒ…å«å­—æ¯
        let reg2 = /(?=.*[a-z])/  // /(?=.*[A-Z])/ 
        console.log(reg2.test('123A'),'å¿…å«å­—æ¯')
        // æ•°å­—å’Œå°å†™å­—æ¯ç»„åˆå’Œå¤§å†™å­—æ¯
        let reg3 = /(?=.*\d)((?=.*[a-z])|(?=.*[A-Z]))/ 
        console.log(reg3.test('123A'),'å¿…å«æ•°å­—æˆ–å¤§å°å­—æ¯')
        console.log(reg3.test('123'),'å¿…å«æ•°å­—æˆ–å¤§å°å­—æ¯')
        console.log(reg3.test('zA'),'å¿…å«æ•°å­—æˆ–å¤§å°å­—æ¯')
        // ç”±æ•°å­—ã€å°å†™å­—ç¬¦å’Œå¤§å†™å­—æ¯ç»„æˆ
        let reg4=/(?=.*\d)((?=.*[a-z])|(?=.*[A-Z]))|((?=.*[a-z])(?=.*[A-Z]))/
        console.log(reg4.test('123456')) // false
        console.log(reg4.test('aaaaaa')) // false
        console.log(reg4.test('AAAAAAA')) // false
        console.log(reg4.test('1a1a1a')) // true
        console.log(reg4.test('1A1A1A')) // true
        console.log(reg4.test('aAaAaA')) // true
        // ç¼©å°åœ¨6-12
        let reg5=/(?=.*\d)((?=.*[a-z])|(?=.*[A-Z]))|((?=.*[a-z])(?=.*[A-Z]))^[a-zA-Z\d]{6,12}/
        console.log(reg5.test('aAaA'),'aAaA') 
        console.log(reg5.test('aAaA1111'),'aAaA1111')
        // å¿…é¡»åŒ…å«æ•°å­—ï¼Œå¤§å°å†™å­—æ¯ï¼Œ
        let reg6=/(?=.*\d)((?=.*[a-z])(?=.*[A-Z]))^[a-zA-Z\d]{6,12}/
        console.log(reg6.test('aAaAss'),'aAaAss') 
        console.log(reg6.test('aAaA1111'),'aAaA1111')
        // å¿…é¡»åŒ…å«æ•°å­—ï¼Œå¤§å°å†™å­—æ¯,ç‰¹æ®Šç¬¦å·
        let reg7_t=/(?=.*[~!@#$%^&*()_+{}])/
        let reg7=/(?=.*\d)((?=.*[a-z])(?=.*[A-Z]))(?=.*[~!@#$%^&*()_+{}:"<>?"])^[a-zA-Z\d]{6,12}/
        console.log(reg7.test('aAaAss1*'),'aAaAss1*') 


        // å­—ç¬¦ä¸²åŒ¹é…
        // è´ªå©ªåŒ¹é…ï¼ˆé»˜è®¤ï¼‰  æƒ°æ€§åŒ¹é…ï¼ˆ?ï¼‰
        // åŒ¹é…id
        let regex = /id=".*?"/ // æƒ³æƒ³ä¸ºä»€ä¹ˆè¦åŠ ? ä¸åŠ çš„è¯ è¿åé¢çš„classéƒ½ä¼šåŒ¹é…åˆ°
        let string_1 = '<div id="container" class="main"></div>'
        console.log(string_1.match(regex),'==match1',string_1.match(regex)[0]);
        let regex2=/id="[^"]*"/
        console.log(string_1.match(regex2),'==match2');

        // åŒ¹é…16è¿›åˆ¶é¢œè‰²  #ffbbad #Fc01DF #FFF #ffE
        // è¦æ±‚åŒ¹é…å¦‚ä¸‹é¢œè‰² \d [0-9]
        let regex_coloe=/([a-fA-F\d]{6})|([a-fA-F\d]{3})/
        console.log('#ffbbad'.match(regex_coloe))
        console.log('#Fc01DF'.match(regex_coloe))
        console.log('#FFF'.match(regex_coloe))
        console.log('#fE'.match(regex_coloe))

        // åŒ¹é…24å°æ—¶åˆ¶æ—¶é—´
        /*
    Â Â Â Â è¦æ±‚åŒ¹é…
        Â Â 23:59
        Â Â 02:07
        */
        //Â è§£æï¼š
        //Â ç¬¬ä¸€ä½ï¼šå¯ä»¥æ˜¯0ã€1ã€2
        //Â ç¬¬äºŒä½ï¼šå½“ç¬¬ä¸€ä½ä½0æˆ–è€…1çš„æ—¶å€™ï¼Œå¯ä»¥æ˜¯0åˆ°9ã€ç¬¬ä¸€ä½æ˜¯2çš„æ—¶å€™ï¼Œåªå¯ä»¥æ˜¯0åˆ°3
        //Â ç¬¬ä¸‰ä½ï¼šå›ºå®šæ˜¯å†’å·ï¼š
        //Â ç¬¬å››ä½ï¼šå¯ä»¥æ˜¯0åˆ°5
        //Â ç¬¬äº”ä½ï¼š0åˆ°9
        let regex_hour=/^([01][\d])|(2[0-3]):[0-5]\d$/
        console.log(regex_hour.test('23:59'))
        console.log(regex_hour.test('02:07'))
        console.log(regex_hour.test('32:37','=æ—¶é—´'))
        //å¼€å¤´å¯ä»¥é0
        let regex_hour_1=/^(0?\d|1\d|2[0-3]):((0?|[1-5])\d)/
        console.log('7:09'.match(regex_hour_1))
        console.log(regex_hour_1.test('7:09','=æ—¶é—´2'))
        // åŒ¹é…æ—¥æœŸ
        /*
            è¦æ±‚åŒ¹é…
        yyyy-mm-ddæ ¼å¼çš„æ—¥æœŸ
        æ³¨æ„æœˆä»½ã€å’Œæ—¥çš„åŒ¹é…
        */
       // 2017-06-10 2017-11-10 2017-2-29

       let regex_date=/^\d{1,4}-(0?[1-9]|1[0-2])-(0?[1-9]|[12]\d|3[01])$/
       console.log(regex_date.test('2012-9-10'),'==æ—¥æœŸ')
       console.log('2012-9-10'.match(regex_date),'cece')
       let regex_date1 = /\d{4}-(0\d|1[0-2])-(0[1-9]|[12]\d|3[01])/
       console.log(regex_date1.test('2012-00-10'),'==æ—¥æœŸ')
       console.log(regex_date.test('2012-00-10'),'==æ—¥æœŸ')

       // æ‹¬å·åˆ†ç»„ æ‹¬å·çš„ä½œç”¨æ˜¯æä¾›äº†åˆ†ç»„(æ‹¬å·å†…çš„æ­£åˆ™æ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œå³æä¾›å­è¡¨è¾¾å¼)ï¼Œä¾¿äºæˆ‘ä»¬å¼•ç”¨å®ƒ
        // åˆ†ç»„
        let reg_split=/(ab)+/g // let reg_split=/(ab)+?/g
        let str_split='ababa '
        // let string = 'ababa abbb ababab'
        let match_split=str_split.match(reg_split)
        console.log(match_split,match_split.index,match_split[1])

        // æå–æ•°æ®
        let reg_date_split=/(\d{4})-(\d{2})-(\d{2})/
        let str_date='2021-08-14'
        console.log(str_date.match(reg_date_split))
        console.log(RegExp.$1,'==$1')
        console.log(RegExp.$1,'==$2')

        /*
        å°†ä»¥ä¸‹æ ¼å¼æ›¿æ¢ä¸ºmm/dd/yyy
        2021-08-14
        */
        //Â ç¬¬ä¸€ç§è§£æ³•
        letÂ reg_date_replace=Â /(\d{4})-(\d{2})-(\d{2})/
        letÂ string_repÂ =Â '2021-08-14'
        //Â ç¬¬ä¸€ç§å†™æ³•
        letÂ result1Â =Â string_rep.replace(Â reg_date_replace,Â '$2/$3/$1')
        console.log(result1,'$2/$3/$1')Â //Â 08/14/2021
        //Â ç¬¬äºŒç§å†™æ³•
        letÂ result2Â =string_rep.replace(reg_date_replace,Â ()Â =>Â {
        Â Â Â Â returnÂ RegExp.$2Â +Â '/'Â +Â RegExp.$3Â +Â '/'Â +Â RegExp.$1
        })
        console.log(result2)Â //Â 08/14/2021
        //Â ç¬¬ä¸‰ç§å†™æ³•
        letÂ result3Â =string_rep.replace(Â reg_date_replace,Â ($0,Â $1,Â $2,Â $3)Â =>Â {
            
        Â Â Â Â returnÂ $2Â +Â '/'Â +Â $3Â +Â '/'Â +Â $1
        })
        console.log(result3)Â //Â 08/14/2021

        // åå‘å¼•ç”¨    å†™ä¸€ä¸ªæ­£åˆ™æ”¯æŒä»¥ä¸‹ä¸‰ç§æ ¼å¼2016-06-12 2016/06/12 2016.06-12
        let regex_r=/(\d{4})([-./])\d{2}(\2)\d{1,2}/
        varÂ string1_0Â =Â "2017-06-12";
        varÂ string2_1Â =Â "2017/06/12";
        varÂ string3_1Â =Â "2017.06.12";
        varÂ string4_1Â =Â "2016-06/12";
        console.log(string1_0.match(regex_r)Â )
        console.log(regex_r.test(string1_0)Â );Â //Â true
        console.log(regex_r.test(string2_1)Â );Â //Â true
        console.log(regex_r.test(string3_1)Â );Â //Â true
        console.log(string3_1.match(regex_r)Â )
        console.log(regex_r.test(string4_1)Â );Â //Â false

        '12345'.match(/(\d)+/)Â //Â ["12345",Â "5",Â index:Â 0,Â input:Â "12345",Â groups:Â undefined]

        // /(\d)+Â \1/.test('12345Â 1')Â //Â false
        // /(\d)+Â \1/.test('12345Â 5')Â //Â true

        //éæ•è·æ€§æ‹¬å·
        //Â éæ•è·å‹å¼•ç”¨
letÂ reg_x1Â =Â /(?:ab)+/g
console.log('ababaÂ abbbÂ ababab'.match(reg_x1))Â //Â ["abab",Â "ab",Â "ababab"]
//Â æ³¨æ„è¿™é‡Œï¼Œå› ä¸ºæ˜¯éæ•è·å‹åˆ†ç»„ï¼Œæ‰€ä»¥ä½¿ç”¨matchæ–¹æ³•æ—¶ï¼Œä¸ä¼šå‡ºç°åœ¨æ•°ç»„çš„1ä½ç½®äº†
letÂ reg_x2Â =Â /(?:ab)+/
console.log('ababaÂ abbbÂ ababab'.match(reg_x2))Â //Â ["abab",Â index:Â 0,Â input:Â "ababaÂ abbbÂ ababab",Â groups:Â undefined]
letÂ reg_x3Â =Â /(ab)+/
console.log('ababaÂ abbbÂ ababab'.match(reg_x3))Â //Â ["abab",Â "ab",Â index:Â 0,Â input:Â "ababaÂ abbbÂ ababab",Â groups:Â undefined]

        let reg_name=/\d+/
        let str_reg1='112oo13pp'
        console.log(str_reg1.match(reg_name))

        // trim
        function trim(str){
            // return str.replace(/^\s*|\s*$/g,'')
            return str.replace(/^\s*(.*?)\s*$/g,'$1')
        }
        console.log(trim('  xizi  ').length)


        // å°†æ¯ä¸ªå­—æ¯é¦–å­—æ¯å¤§å†™
        
        constÂ titleizeÂ =Â (str)Â =>Â {
            returnÂ str.toLowerCase().replace(/(^|\s)\w/g,Â (c)Â =>{ // /(?:^|\s)\w/g  æ•ˆæœç›¸åŒ
                console.log(c,'==l')
                return Â c.toUpperCase()
            })
        }Â Â 
        console.log(titleize('my name is epeli'))
        // æˆ–è€…base-act-tab => BaseActTab
        const change1=Â (str)Â =>Â {
            // returnÂ str.toLowerCase().replace(/(^|-)(\w)/g,Â (s,a,b)Â =>{ 
            //     // console.log(s,'==',a,b)
            //     return b.toUpperCase()
            // })
              returnÂ str.toLowerCase().replace(/(?:^|-)(\w)/g, ($0, $1) => {
                console.log($0,$1,'==xx')
                return $1.toUpperCase()
              }) 
        }Â Â 
        console.log(change1('my-name-is-epeli'))

        // é©¼å³°
        // -moz-transform => MozTransform
        const tuofeng=Â (str)Â =>Â {
              returnÂ str.toLowerCase().replace(/-(\w)/g, ($0, $1) => {
              
                return $1.toUpperCase()
              }) 
        }Â Â 
        console.log(tuofeng('-moz-transform'))
        // 4.ä¸­åˆ’çº¿åŒ–
        // MozTransform => -moz-transform
        const change2=(str)=>{
            let reg=/[A-Z]/g
            return str.replace(reg,c=>{
                return '-'+c.toUpperCase()
            })
        }
        console.log(change2('MozTransform'))

        // html è½¬è¯‘ ä¸ åè½¬
        function zhuanyi(str){
            let map={
                '<': 'lt',
                '>': 'gt',
                '"': 'quot',
                '&': 'amp'
            }
            //<div>Blah blah blah</div>
            let reg=new RegExp(`[${Object.keys(map).join('')}]`,'g')
            return str.replace(reg,(c)=>{
                return '&'+map[c]+';'
            })
        }
        console.log(zhuanyi('<div>Blah blah blah</div>'),'è½¬è¯‘')
        // åè½¬
        function fanzhuan(str){
            let map={
                nbsp: ' ',
                lt: '<',
                gt: '>',
                quot: '"',
                amp: '&',
            }
            // '&lt;div&gt;Blah blah blah&lt;/div&gt;'
            // let reg=/&(.*?);/g   
            let reg=/&([^;]+);/g
            return str.replace(reg,($0,$1)=>{
                return map[$1]
            })
        }
        console.log(fanzhuan('&lt;div&gt;Blah blah blah&lt;/div&gt;'),'ç¿»è½¬')
        
        // åŒ¹é…æˆå¯¹æ ‡ç­¾
        /*
        åŒ¹é…
        <title>regular expression</title>
        
        ä¸åŒ¹é…
        <title>wrong!</p>*/
        function matchFn(str){
            // let reg=/<(\w+)>.*<\/\1>/g
            let reg=/<([^>]+)>.*?<\/\1></g
            return reg.test(str)
        }
        console.log(matchFn('<title>wrong!</p>'),'==1')
        console.log(matchFn(' <title>regular expression</title><p>laoyao bye bye</p>'),'==2')



    </script>
</body>
</html>