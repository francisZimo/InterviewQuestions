<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <p>
      给定一个正整数 n，生成一个包含 1 到 n^2
      所有元素，且元素按顺时针顺序螺旋排列的正方形矩阵。 示例: 输入: 3 输出: [ [
      1, 2, 3 ], [ 8, 9, 4 ], [ 7, 6, 5 ] ] #
    </p>
    <script>
      var generateMatrix = function (n) {
        let startX = (startY = 0);
        let col = 0;
        let row = 0;
        let res = new Array(n).fill(0).map(() => new Array(n).fill(0));
        console.log('inner=', res);
        let count = 0;
        let offset = 1;
        let middle = Math.floor(n / 2);
        let loop = Math.floor(n / 2);
        console.log(loop, '==loop');
        while (loop--) {
          col = startX;
          row = startY;
          // 从左到右
          console.log(col, startY + n - offset, '==chuci');
          while (col < startY + n - offset) {
            res[row][col++] = ++count;
            console.log(count, '==左-》右');
          }
          // 从上到下
          while (row < startX + n - offset) {
            res[row++][col] = ++count;
          }
          // 从右到左
          while (col > startY) {
            res[row][col--] = ++count;
          }
          // 从下到上
          while (row > startX) {
            res[row--][col] = ++count;
          }
          startX++;
          startY++;
          offset += 2;
        }
        if (n % 2 === 1) {
          res[middle][middle] = ++count;
        }
        return res;
      };
      //   const res = generateMatrix(3);
      //   console.log(res, '==res');

      var generateMatrix1 = function (n) {
        let startX = (startY = 0);
        let count = 0;
        let loop = (n / 2) >> 0;
        let offset = 1;
        let res = new Array(n).fill(0).map(() => new Array(n).fill(0));

        console.log(res, '==res1');
        while (loop--) {
          let row = startX,
            col = startY;
          while (col < startY + n - offset) {
            console.log(row, col, '==ccc');
            res[row][col] = ++count;
            col++;
            console.log(res.toString(), '==zuo => you', row, col);
          }
          while (row < startX + n - offset) {
            res[row++][col] = ++count;
          }

          while (col > startY) {
            res[row][col--] = ++count;
          }
          while (row > startX) {
            res[row--][col] = ++count;
          }
          startX++;
          startY++;
          offset += 2;
        }
        if (n % 2 === 1) {
          res[(n / 2) >> 0][(n / 2) >> 0] = ++count;
        }
        return res;
      };
      console.log(generateMatrix1(3), '==res2');
    </script>
  </body>
</html>
