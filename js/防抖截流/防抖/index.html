<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<p>防抖</p>
<!--<button id="test">防抖</button>-->
<input type="text" id="test">
<body>
<script>
  function debounce(fn,time=200){
    let timer=null;
    return function(){
      clearTimeout(timer)
      timer=setTimeout(()=>{
        fn.apply(this,arguments)
      },time)
    }
  }

  function debounce1(fn,await=500){
    let timer=null
    return function(){
      clearTimeout(timer)
      timer=setTimeout(()=>{
        fn.apply(this,arguments)
      },await)
    }
  }

  function debounce2(fn,await=200){
    let timer=null
    return function(){
      clearTimeout(timer)
      timer=setTimeout(()=>{
        fn.apply(this,arguments)
      },await)
    }
  }
  function debounce3(fn,await=1000){
    let timer=null
    return function(){
      clearTimeout(timer)
      timer=setTimeout(()=>{
        fn.apply(this,arguments)
        timer=null
      },await)
    }
  }
  function debounce4(fn,wait=1000,immediate=false){
    let timer=null;
    return function(...arg){
      let alloc=immediate&&!timer;
      clearTimeout(timer)
      timer=setTimeout(()=>{
        timer=null;
        if(!immediate) fn.apply(this,arg)
      },wait)
      if(alloc){
        fn.apply(this,arg)
      }
    }
  }

  function event1(params){
    return (e)=>{
      console.log('啊啊啊',e.target.value)
      console.log('参数==',params)
    }

  }
  document.getElementById('test').addEventListener('input',debounce4(event1('小明'),1000,false))


</script>

</body>
</html>