<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <p>
      给你一个包含 n 个整数的数组 nums，判断 nums 中是否存在三个元素 a，b，c
      ，使得 a + b + c = 0 ？请你找出所有满足条件且不重复的三元组。 注意：
      答案中不可以包含重复的三元组。 示例： 给定数组 nums = [-1, 0, 1, 2, -1,
      -4]， 满足要求的三元组集合为： [ [-1, 0, 1], [-1, -1, 2] ] #
    </p>
    <script>
      var threeSum = function (nums) {
        const res = [];
        const len = nums.length;
        if (nums == null || len < 3) return res;
        nums.sort((a, b) => a - b); // 排序
        console.log(nums, '===nums');
        for (let i = 0; i < nums.length; i++) {
          const tmp = nums[i];

          let L = i + 1;
          let R = len - 1;
          if (tmp > 0) return res;
          if (i > 0 && tmp === nums[i - 1]) continue;

          while (L < R) {
            // debugger;
            const sum = tmp + nums[L] + nums[R];
            if (sum === 0) {
              res.push([tmp, nums[L], nums[R]]);
              while (L < R && nums[L] === nums[L + 1]) {
                L++;
              }
              while (L < R && nums[R] === nums[R - 1]) {
                R--;
              }
              L++;
              R--;
            } else if (sum < 0) {
              L++;
            } else {
              R--;
            }
          }
        }
        return res;
      };

      const nums = [-1, 0, 1, 2, -1, -4];
      var threeSum1 = (nums) => {
        nums.sort((a, b) => a - b);
        const ln = nums.length;
        const res = [];
        if (nums == null || ln < 3) return res;
        for (let i = 0; i < ln; i++) {
          const item = nums[i];
          let L = i + 1;
          let R = ln - 1;
          if (item > 0) return res;
          if (i > 0 && item === nums[i - 1]) continue;
          while (L < R) {
            const sum = item + nums[L] + nums[R];
            if (sum < 0) {
              L++;
            } else if (sum > 0) {
              R--;
            } else {
              res.push([item, nums[L], nums[R]]);
              while (L < R && nums[L] === nums[L + 1]) {
                L++;
              }
              while (L < R && nums[R] === nums[R - 1]) {
                R--;
              }
              L++;
              R--;
            }
          }
        }
        return res;
      };
      //   console.log(threeSum(nums));

      var threeSum2 = (nums) => {
        const len = nums.length;
        const res = [];
        if (len < 3 || nums == null) return res;
        nums.sort((a, b) => a - b);
        for (let i = 0; i < len; i++) {
          const item = nums[i];
          if (item > 0) return res;
          if (i > 0 && item === nums[i - 1]) continue;
          let L = i + 1;
          let R = len - 1;

          while (L < R) {
            const sum = item + nums[L] + nums[R];
            if (sum > 0) {
              R--;
            } else if (sum < 0) {
              L++;
            } else {
              res.push([item, nums[L], nums[R]]);
              while (L < R && nums[L] === nums[L + 1]) {
                L++;
              }
              while (L < R && nums[R] === nums[R - 1]) {
                R--;
              }
              L++;
              R--;
            }
          }
        }
        return res;
      };
      console.log(threeSum2(nums));
    </script>
  </body>
</html>
