<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    let treeSum=function(nums){
      let res=[]
      if(nums.length<3){
        return res
      }

      nums.sort((a,b)=>a-b)
      for(let i=0;i<nums.length;i++){

        if(nums[i]>0){
          return res
        }
        if(i>0&&nums[i]===nums[i-1]){
          continue
        }
        let length=nums.length
        let left=i+1
        let right=length-1

        while(left<right){
          let sum=nums[i]+nums[left]+nums[right];
          if(sum>0){
            right--
          }else if(sum<0){
            left++;
          }else{
            res.push([nums[i],nums[left],nums[right]])
            while(left<right&&nums[left]===nums[left+1]){left++}
            while(left<right&&nums[right]===nums[right-1]){right--}
            left++
            right--
          }

        }

      }

      return res

    }

    let treeSum1=function(nums){
      let length=nums.length
      let res=[]
      if(length<3){
        return res
      }
      nums.sort((a,b)=>a-b)
      for(let i=0;i<length;i++){
        if(nums[i]>0){
          return res
        }
        if(i>0&&nums[i]===nums[i-1]){
          continue
        }
        let left=i+1;
        let right=length-1;

        while(left<right){
          let sum=nums[i]+nums[left]+nums[right]
          if(sum>0){
            right--
          }else if(sum<0){
            left++
          }else{
            res.push([nums[i],nums[left],nums[right]])
            while(left<right&&nums[left]===nums[left+1]){left++}
            while(left<right&&nums[right]===nums[right-1]){right--}
            left++;
            right--
          }
        }
      }
      return res
    }

    function treeSum2(nums){
      const ln=nums.length
      if(ln<3){
        return nums
      }
      const res=[]
    
      nums.sort((a,b)=>a-b)
      for(let i=0;i<nums.length;i++){

        // for(let j=i;j<)
        
        if(i>0&&nums[i]===nums[i-1]){
          continue
        }
        let left=i+1
        let right=ln-1
        while(left<right){
          console.log(nums[i],nums[left],nums[right],'===组')
          const sum=nums[i]+nums[left]+nums[right]
          if(sum>0){
            right--
            continue
          }else if(sum<0){
            left++
            continue
          }
         
          res.push([nums[i],nums[left],nums[right]])
          left++
          right--
          // 优化-start
          while(left<right&&nums[left]===nums[left+1]){left++}
          while(left<right&&nums[right]===nums[right-1]){right--}
          // 优化-end

        }
      }
      return res
    }
    let nums = [-1,-1,-1, 0, 1,1,1,2, -1, -4]
    // treeSum1(nums)
    // console.log(treeSum(nums))
    console.log(treeSum2(nums))
</script>
</body>
</html>