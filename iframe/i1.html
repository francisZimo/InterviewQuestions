<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
  <style>
    html,
    body {
      width: 100%;
      height: 100%;
    }
  </style>
</head>
?editMode=edit
<body>
  æˆ‘æ˜¯ 1.html, ä¸‹é¢åµŒå¥— 2.html
  <!-- <iframe
        src="https://xueyan.xueersi.com/chess-base-topic/index.html"
        name="child"
      ></iframe> -->
  <!-- <iframe style="width: 100%; height: 100%;" src="https://xueyan.xueersi.com/four-ci-yuan/index.html#/" name="child"></iframe> -->
  <iframe style="width: 100%; height: 100%;" src="http://localhost:80/?editMode=edit" name="child"></iframe>
  <!-- <iframe
      style="width: 100%; height: 100%;"
      src="./i2.html"
      name="child" -->
  ></iframe>
  <script>
    function hello() {
      console.log('this is 1.html');
    }

   const sendData1={
            "savePending":{},
            "studentHotArea": {
                "count": 5,
                "operationType": "All",
                "location": [
                    {
                        "id": "1fb5a5d8-9889-4d92-8002-51326c62efae",
                        "index": 1,
                        "name": "å­¦ç”Ÿçƒ­åŒº_1",
                        "hotAreaType": "student",
                        "interactionType": "video",
                        "role": "",
                        "aiSticker": ""
                    },
                    {
                        "id": "bf43b540-bdc2-43fe-9d9a-77549381161f",
                        "index": 2,
                        "name": "å­¦ç”Ÿçƒ­åŒº_2",
                        "hotAreaType": "student",
                        "interactionType": "video",
                        "role": "",
                        "aiSticker": ""
                    },
                    {
                        "id": "298476d0-8b0d-4923-ae34-87ef0f9493fc",
                        "index": 3,
                        "name": "å­¦ç”Ÿçƒ­åŒº_3",
                        "hotAreaType": "student",
                        "interactionType": "video",
                        "role": "",
                        "aiSticker": ""
                    },
                    {
                        "id": "f1ad7e70-3766-467e-b210-4dfc2bac35ba",
                        "index": 4,
                        "name": "å­¦ç”Ÿçƒ­åŒº_4",
                        "hotAreaType": "student",
                        "interactionType": "video",
                        "role": "",
                        "aiSticker": ""
                    },
                    {
                        "id": "8439352c-e3a0-4828-97e0-fc9f8df4fdf0",
                        "index": 5,
                        "name": "å­¦ç”Ÿçƒ­åŒº_5",
                        "hotAreaType": "student",
                        "interactionType": "video",
                        "role": "",
                        "aiSticker": ""
                    }
                ]
            },
            "partName": "é€‰ä¸­å•äººå‘è¨€",
            "stageHotArea": {
                "count": 1,
                "interactionCommand": "designatedOnStage",
                "operationType": "All",
                "location": [
                    {
                        "id": "27d6e965-b585-4219-a256-33c784c06b6d",
                        "index": 1,
                        "name": "ä¸Šå°çƒ­åŒº_1",
                        "hotAreaType": "stage",
                        "interactionType": "videoAudio",
                        "role": "",
                        "aiSticker": ""
                    }
                ]
            }
        }
   const sendData2={
     "studentHotArea": {
                "count": 6,
                "operationType": "All",
                "location": [
                    {
                        "id": "5bae17e8-0966-4cf9-8ae0-c856f39f840a",
                        "index": 1,
                        "name": "å­¦ç”Ÿçƒ­åŒº_1",
                        "hotAreaType": "student",
                        "interactionType": "videoAudio",
                        "role": "",
                        "aiSticker": ""
                    },
                    {
                        "id": "d9ccdc06-68e3-4377-9652-2c0521904f3b",
                        "index": 2,
                        "name": "å­¦ç”Ÿçƒ­åŒº_2",
                        "hotAreaType": "student",
                        "interactionType": "videoAudio",
                        "role": "",
                        "aiSticker": ""
                    },
                    {
                        "id": "06c1557b-2041-4c9e-879b-29ba26ba5210",
                        "index": 3,
                        "name": "å­¦ç”Ÿçƒ­åŒº_3",
                        "hotAreaType": "student",
                        "interactionType": "videoAudio",
                        "role": "",
                        "aiSticker": ""
                    },
                    {
                        "id": "38fc29f4-8918-470f-b697-66f753ec5aa7",
                        "index": 4,
                        "name": "å­¦ç”Ÿçƒ­åŒº_4",
                        "hotAreaType": "student",
                        "interactionType": "videoAudio",
                        "role": "",
                        "aiSticker": ""
                    },
                    {
                        "id": "3f6fbfa5-d4b0-4c96-9811-fb36951dd6fd",
                        "index": 5,
                        "name": "å­¦ç”Ÿçƒ­åŒº_5",
                        "hotAreaType": "student",
                        "interactionType": "videoAudio",
                        "role": "",
                        "aiSticker": ""
                    },
                    {
                        "id": "426ab3e6-7eac-44cc-a8c3-9f79ed147be1",
                        "index": 6,
                        "name": "å­¦ç”Ÿçƒ­åŒº_6",
                        "hotAreaType": "student",
                        "interactionType": "videoAudio",
                        "role": "",
                        "aiSticker": ""
                    }
                ]
            }
          }
   const sendData3={
    "skillHotArea": {
                "count": 3,
                "location": [
                    {
                        "hotAreaType": "skill",
                        "id": "2da47f47-a7bc-4cd9-b3c7-1124d6d824fd",
                        "imageId": "jingleBell",
                        "index": 1,
                        "name": "æŠ€èƒ½çƒ­åŒº_1",
                        "role": "classMonitor",
                        "roleSkill": "openBlindBox",
                        "skillMaterialId": "jingleBell"
                    },
                    {
                        "hotAreaType": "skill",
                        "id": "97c1754a-3e21-4509-a70b-e89a76ca3dd3",
                        "imageId": "jingleBell",
                        "index": 2,
                        "name": "æŠ€èƒ½çƒ­åŒº_2",
                        "role": "classMonitor",
                        "roleSkill": "openBlindBox",
                        "skillMaterialId": "jingleBell"
                    },
                    {
                        "hotAreaType": "skill",
                        "id": "ebfd79d3-f585-47e4-9f55-f9b4db1b15b1",
                        "imageId": "jingleBell",
                        "index": 3,
                        "name": "æŠ€èƒ½çƒ­åŒº_3",
                        "role": "classMonitor",
                        "roleSkill": "openBlindBox",
                        "skillMaterialId": "jingleBell"
                    }
                ],
                "operationType": "All"
            },
            "stageHotArea": {
                "count": 1,
                "interactionCommand": "designatedOnStage",
                "location": [
                    {
                        "aiSticker": "",
                        "hotAreaType": "stage",
                        "id": "2298f928-91bb-4a1c-97f1-41c7dec7900e",
                        "index": 1,
                        "interactionType": "videoAudio",
                        "name": "ä¸Šå°çƒ­åŒº_1",
                        "role": "classMonitor"
                    }
                ],
                "operationType": "All"
            },
            "studentHotArea": {
                "count": 6,
                "location": [
                    {
                        "aiSticker": "",
                        "hotAreaType": "student",
                        "id": "b1abcdc3-c310-454d-aecb-70fad4a8af27",
                        "index": 1,
                        "interactionType": "videoAudio",
                        "name": "å­¦ç”Ÿçƒ­åŒº_1",
                        "role": ""
                    },
                    {
                        "aiSticker": "",
                        "hotAreaType": "student",
                        "id": "8f1afa00-feb2-4bc6-8302-780e405d2f52",
                        "index": 2,
                        "interactionType": "videoAudio",
                        "name": "å­¦ç”Ÿçƒ­åŒº_2",
                        "role": ""
                    },
                    {
                        "aiSticker": "",
                        "hotAreaType": "student",
                        "id": "4fc9ba78-40e2-4071-8f38-fe33f3318f58",
                        "index": 3,
                        "interactionType": "videoAudio",
                        "name": "å­¦ç”Ÿçƒ­åŒº_3",
                        "role": ""
                    },
                    {
                        "aiSticker": "",
                        "hotAreaType": "student",
                        "id": "f3a80772-730c-487a-85d8-1f609d42f1cd",
                        "index": 4,
                        "interactionType": "videoAudio",
                        "name": "å­¦ç”Ÿçƒ­åŒº_4",
                        "role": ""
                    },
                    {
                        "aiSticker": "",
                        "hotAreaType": "student",
                        "id": "e4f57af8-4322-4f11-9538-03c7d2737d0a",
                        "index": 5,
                        "interactionType": "videoAudio",
                        "name": "å­¦ç”Ÿçƒ­åŒº_5",
                        "role": ""
                    },
                    {
                        "aiSticker": "",
                        "hotAreaType": "student",
                        "id": "c27d343d-5007-4689-903f-6cd669dceccd",
                        "index": 6,
                        "interactionType": "videoAudio",
                        "name": "å­¦ç”Ÿçƒ­åŒº_6",
                        "role": ""
                    }
                ],
                "operationType": "All"
            }
   }
   const sendData4={
    "studentHotArea": {
                            "count": 6,
                            "location": [
                                {
                                    "aiSticker": "desertTheme",
                                    "hotAreaType": "student",
                                    "id": "969477a7-49ae-476a-b08a-ba66489ebbd8",
                                    "index": 1,
                                    "interactionType": "videoAudio",
                                    "name": "å­¦ç”Ÿçƒ­åŒº_1",
                                    "role": ""
                                },
                                {
                                    "aiSticker": "desertTheme",
                                    "hotAreaType": "student",
                                    "id": "d20d31cf-9abc-41bf-863f-b2cab14c94a7",
                                    "index": 2,
                                    "interactionType": "videoAudio",
                                    "name": "å­¦ç”Ÿçƒ­åŒº_2",
                                    "role": ""
                                },
                                {
                                    "aiSticker": "desertTheme",
                                    "hotAreaType": "student",
                                    "id": "394a0d68-91b0-444b-acec-957e7e49f63e",
                                    "index": 3,
                                    "interactionType": "videoAudio",
                                    "name": "å­¦ç”Ÿçƒ­åŒº_3",
                                    "role": ""
                                },
                                {
                                    "aiSticker": "desertTheme",
                                    "hotAreaType": "student",
                                    "id": "419e3877-4df9-4a98-adf1-0a6c5d18111d",
                                    "index": 4,
                                    "interactionType": "videoAudio",
                                    "name": "å­¦ç”Ÿçƒ­åŒº_4",
                                    "role": ""
                                },
                                {
                                    "aiSticker": "desertTheme",
                                    "hotAreaType": "student",
                                    "id": "d5cb7309-fcc4-4103-968c-ee52b5c1e1b8",
                                    "index": 5,
                                    "interactionType": "videoAudio",
                                    "name": "å­¦ç”Ÿçƒ­åŒº_5",
                                    "role": ""
                                },
                                {
                                    "aiSticker": "desertTheme",
                                    "hotAreaType": "student",
                                    "id": "086bca1f-1088-4044-baa0-13979614358c",
                                    "index": 6,
                                    "interactionType": "videoAudio",
                                    "name": "å­¦ç”Ÿçƒ­åŒº_6",
                                    "role": ""
                                }
                            ],
                            "operationType": "All"
                        }
   }
   const sendData5={
    
    "studentHotArea": {
        "count": 6,
        "operationType": "All",
        "location": [
            {
                "id": "0d90326f-c2b0-4bad-b368-6e5f129d226c",
                "index": 1,
                "name": "å­¦ç”Ÿçƒ­åŒº_1",
                "hotAreaType": "student",
                "interactionType": "videoAudio",
                "role": "-1",
                "aiSticker": "-1"
            },
            {
                "id": "3f933c19-a878-4df1-a51e-37b79ae76b48",
                "index": 2,
                "name": "å­¦ç”Ÿçƒ­åŒº_2",
                "hotAreaType": "student",
                "interactionType": "videoAudio",
                "role": "-1",
                "aiSticker": "-1"
            },
            {
                "id": "afe5906d-d850-41a6-a21a-7d58860f19e6",
                "index": 3,
                "name": "å­¦ç”Ÿçƒ­åŒº_3",
                "hotAreaType": "student",
                "interactionType": "videoAudio",
                "role": "-1",
                "aiSticker": "-1"
            },
            {
                "id": "27c855a0-7461-4f79-85d6-7bfafaead806",
                "index": 4,
                "name": "å­¦ç”Ÿçƒ­åŒº_4",
                "hotAreaType": "student",
                "interactionType": "videoAudio",
                "role": "-1",
                "aiSticker": "-1"
            },
            {
                "id": "372297e4-fb90-455a-bc7d-8968b43d18fc",
                "index": 5,
                "name": "å­¦ç”Ÿçƒ­åŒº_5",
                "hotAreaType": "student",
                "interactionType": "videoAudio",
                "role": "-1",
                "aiSticker": "-1"
            },
            {
                "id": "e8b21a01-a18c-4651-8ef7-2f4706d92ca9",
                "index": 6,
                "name": "å­¦ç”Ÿçƒ­åŒº_6",
                "hotAreaType": "student",
                "interactionType": "videoAudio",
                "role": "-1",
                "aiSticker": "-1"
            }
        ]
    },
    "partName": "",
    "partInteractionInfo": {
        "playRule": "voiceRecognition",
        "voiceRecognition": {
            "isRoleCheck": 1,
            "role": "classAssistant",
            "keyword": "æˆ‘,å°åŠ©æ•™"
        }
    },
    "savePending": {
        "studentHotArea": {
            "location": [
                {
                    "role": "-1",
                    "aiSticker": "-1"
                },
                {
                    "role": "-1",
                    "aiSticker": "-1"
                },
                {
                    "role": "-1",
                    "aiSticker": "-1"
                },
                {
                    "role": "-1",
                    "aiSticker": "-1"
                },
                {
                    "role": "-1",
                    "aiSticker": "-1"
                },
                {
                    "role": "-1",
                    "aiSticker": "-1"
                }
            ]
        }
    }
}
   const sendData6={

    "studentHotArea": {
        "count": 6,
        "operationType": "All",
        "location": [
            {
                "id": "0d90326f-c2b0-4bad-b368-6e5f129d226c",
                "index": 1,
                "name": "å­¦ç”Ÿçƒ­åŒº_1",
                "hotAreaType": "student",
                "interactionType": "videoAudio",
                "role": "classMonitor",
                "aiSticker": "professor"
            },
            {
                "id": "3f933c19-a878-4df1-a51e-37b79ae76b48",
                "index": 2,
                "name": "å­¦ç”Ÿçƒ­åŒº_2",
                "hotAreaType": "student",
                "interactionType": "videoAudio",
                "role": "classMonitor",
                "aiSticker": "professor"
            },
            {
                "id": "afe5906d-d850-41a6-a21a-7d58860f19e6",
                "index": 3,
                "name": "å­¦ç”Ÿçƒ­åŒº_3",
                "hotAreaType": "student",
                "interactionType": "videoAudio",
                "role": "classMonitor",
                "aiSticker": "professor"
            },
            {
                "id": "27c855a0-7461-4f79-85d6-7bfafaead806",
                "index": 4,
                "name": "å­¦ç”Ÿçƒ­åŒº_4",
                "hotAreaType": "student",
                "interactionType": "videoAudio",
                "role": "classMonitor",
                "aiSticker": "professor"
            },
            {
                "id": "372297e4-fb90-455a-bc7d-8968b43d18fc",
                "index": 5,
                "name": "å­¦ç”Ÿçƒ­åŒº_5",
                "hotAreaType": "student",
                "interactionType": "videoAudio",
                "role": "classMonitor",
                "aiSticker": "professor"
            },
            {
                "id": "e8b21a01-a18c-4651-8ef7-2f4706d92ca9",
                "index": 6,
                "name": "å­¦ç”Ÿçƒ­åŒº_6",
                "hotAreaType": "student",
                "interactionType": "videoAudio",
                "role": "classMonitor",
                "aiSticker": "professor"
            }
        ]
    },
    "partName": "æˆ‘æ˜¯æ–°çš„ç¯èŠ‚",
    "partInteractionInfo": {
        "playRule": "voiceRecognition",
        "voiceRecognition": {
            "isRoleCheck": 1,
            "role": "classAssistant",
            "keyword": "æˆ‘,å°åŠ©æ•™"
        }
    },
    "savePending": {
        "studentHotArea": {
            "location": [
                {
                    "role": "-1",
                    "aiSticker": "-1"
                },
                {
                    "role": "-1",
                    "aiSticker": "-1"
                },
                {
                    "role": "-1",
                    "aiSticker": "-1"
                },
                {
                    "role": "-1",
                    "aiSticker": "-1"
                },
                {
                    "role": "-1",
                    "aiSticker": "-1"
                },
                {
                    "role": "-1",
                    "aiSticker": "-1"
                }
            ]
        }
    }

   }
            var iframe = document.getElementsByTagName('iframe')[0];
    // console.log('contentWindow ğŸ¥', iframe.contentWindow); // èƒ½è®¿é—®
    // console.log('contentDocument ğŸ¥', iframe.contentDocument); // èƒ½è®¿é—®

    // æ³¨æ„è®¿é—®æ–¹å¼, éœ€è¦åœ¨ onload åæ‰èƒ½å–åˆ°å€¼
    // console.log( iframe.contentWindow.hello() ) // Uncaught TypeError: iframe.contentWindow.hello is not a function

    iframe.onload = function () {
      console.log('121åŠ è½½æˆåŠŸ')
      // console.log(iframe.contentWindow.hello(), '==hello'); // this is 2.html //  è¾“å‡º Location å¯¹è±¡ï¼Œ ä¾ç„¶è¦åœ¨ iframe.onload ä¸­è®¿é—®
      // console.log(
      //   'contentWindow.location ğŸ¥',
      //   iframe.contentWindow.location
      // ); //  iframe.contentWindow.location.host : 127.0.0.1:8000 //  xxx.hash: Â  Â  "" //  xxx.host: Â  Â  "127.0.0.1:8000" //  xxx.hostname: "127.0.0.1" //  xxx.href: Â  Â  "http://127.0.0.1:8000/2.html" //  xxx.origin: Â  "http://127.0.0.1:8000" //  xxx.pathname: "/2.html" //  xxx.port: Â  Â  "8000" //  xxx.protocol: "http:" //  ... // æœ‰ç›¸åŒçš„æº æˆ‘ä»¬å¯ä»¥è¿›è¡Œä»»ä½•æ“ä½œ
      // iframe.contentDocument.body.innerHTML = '<p>hi, i am ur father !</p>';
      // console.log(iframe.contentDocument.getElementsByTagName('p'), '==p');

      // // onloadå‘é€æ¶ˆæ¯
      let childFrame = window.frames.child;
      // console.log(window.frames, '==framesList', window.frames.child);
      // childFrame.postMessage('i am father');
      // iframe.contentWindow.postMessage(
      //   {
      //   type: 'formData',
      //   data: {
      //     name: 'tom',
      //     age: 12,
      //   },
      // })
      // childFrame.postMessage('ç¬¬ä¸€æ¬¡å‘é€')
      console.log('hhaha9999')

    };

    // iframe.contentWindow.location = 'http://www.360doc.com'; // å¯ä»¥ç›´æ¥ä¿®æ”¹ iframe åœ°å€, ä¸å—åŒæºç­–ç•¥çš„é™åˆ¶ã€‚ æœ‰çš„ç½‘ç«™ä¸æ”¯æŒè¢«iframeå¼•ç”¨, æ‰€ä»¥ä¼šæŠ¥é”™ã€‚ æ³¨æ„åŒºåˆ†é”™è¯¯ä¿¡æ¯ã€‚
    // onloadå‘é€æ¶ˆæ¯
    // let childFrame = window.frames.child;
    // console.log(window.frames, '==framesList', window.frames.child);
    // childFrame.postMessage('ç¬¬ä¸€æ¬¡å‘é€', 'http://127.0.0.1:80');

    window.addEventListener('message', function (event) {

      // if (event.origin !== 'http://127.0.0.1:8000') {
      //   // æ¥è‡ªæœªçŸ¥çš„æºçš„å†…å®¹ï¼Œæˆ‘ä»¬å¿½ç•¥å®ƒ
      //   return;
      // }
      // if (window === event.source) {
      //   return;
      // }
      console.log('received:', event.data);
      //           {
      //     typeï¼š"formData",
      //     dataï¼š{æŠ€æœ¯æ–‡æ¡£ä¸­å®šä¹‰çš„æ•°æ®æ ¼å¼}
      // }
      // å¯ä»¥ä½¿ç”¨ event.source.postMessage(...) å‘å›å‘é€æ¶ˆæ¯
      // return;
      event.source.postMessage({
        type: 'formData',
        data: {
          partName: 'æˆ‘æ˜¯æ–°çš„ç¯èŠ‚',
          clientConfig:sendData6
        }
      }, '*');


      // console.log('å‘é€æ¶ˆæ¯äº† tom')

    });

    // setTimeout(()=>{
    //   console.log('å‘é€æ¶ˆæ¯äº† tom',window.frames.child)
    //    iframe.contentWindow.postMessage('ç¬¬äºŒæ¬¡å‘é€')
    // },3000)
  </script>
</body>

</html>