<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <!-- <link rel="stylesheet" href="https://static.speiyou.com/qsTemplate/talqsTemplate.min.css" />
    <script src="https://static.speiyou.com/qsTemplate/talqsTemplate.min.js"></script> -->
    <script src="https://static.speiyou.com/library/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://static.speiyou.com/_cdn_/talqs-interaction-phone/1.0.15-alpha.66/index.min.js"></script>
    <link href="https://static.speiyou.com/_cdn_/talqs-interaction-phone/1.0.15-alpha.66/index.min.css" rel="stylesheet" />
    <!-- <script src="https://static.speiyou.com/showPic/template-demo-data/getQuestionData.js"></script> -->

    <!-- <script src="https://static.speiyou.com/release/judge/latest/judge.js"></script> -->

    <script type="text/x-mathjax-config">
      MathJax.Hub.Register.StartupHook("TeX Jax Ready", function() {
      MathJax.InputJax.TeX.prefilterHooks.Add(function(data) { if (!data.display) { data.math="\\displaystyle{" +
      data.math + "}" } }); }); MathJax.Hub.Config({ jax: ["input/TeX", "output/SVG" ], extensions: ["tex2jax.js"], TeX: {
      extensions: ["AMSmath.js", "AMSsymbols.js" , "noErrors.js" , "noUndefined.js" ] }, skipStartupTypeset: true,
      showProcessingMessages: false, messageStyle: 'none' , tex2jax: { ignoreClass: 'ignore_math' , preview: "none" ,
      inlineMath: [["$", "$" ], ["\\", "\\" ]] }, showMathMenu: false, displayAlign: "left" , "SVG" : { minScaleAdjust:
      100, linebreaks: { automatic: true, width: "container" } } });
    </script>

    <title>Document</title>
    <style>
      * {
        user-select: none;
      }
      .button {
        color: #666;
        background-color: #eee;
        border-color: #eee;
        font-weight: 300;
        font-size: 16px;
        font-family: "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;
        text-decoration: none;
        text-align: center;
        line-height: 40px;
        height: 40px;
        padding: 0 40px;
        margin: 0;
        display: inline-block;
        appearance: none;
        cursor: pointer;
        border: none;
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
        -webkit-transition-property: all;
        transition-property: all;
        -webkit-transition-duration: 0.3s;
        transition-duration: 0.3s;
      }
      .button:visited {
        color: #666;
      }
      .button:hover,
      .button:focus {
        background-color: #f6f6f6;
        text-decoration: none;
        outline: none;
      }
      .button:active,
      .button.active,
      .button.is-active {
        text-shadow: 0 1px 0 rgba(255, 255, 255, 0.3);
        text-decoration: none;
        background-color: #eeeeee;
        border-color: #cfcfcf;
        color: #d4d4d4;
        -webkit-transition-duration: 0s;
        transition-duration: 0s;
        -webkit-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.2);
        box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.2);
      }
      .button.disabled,
      .button.is-disabled,
      .button:disabled {
        top: 0 !important;
        background: #eee !important;
        border: 1px solid #ddd !important;
        text-shadow: 0 1px 1px white !important;
        color: #ccc !important;
        cursor: default !important;
        appearance: none !important;
        -webkit-box-shadow: none !important;
        box-shadow: none !important;
        opacity: 0.8 !important;
      }

      .button-pill {
        border-radius: 200px;
      }
    </style>

    <style>
      /* .talqs_options_columns_item {
        display: block;
        border: 1px solid red;
        border-radius: 100px;
        margin-bottom: 10px;
      } */

      .talqs_options_list .current .talqs_right {
        background-color: rgba(255, 0, 0, 0.3);
      }

      .talqs_options_list .current {
        position: relative;
      }

      .talqs_options_list .current .talqs_right::after {
        content: "";
        display: block;
        width: 10px;
        height: 10px;
        background-color: red;
        border-radius: 50%;
        position: absolute;
        left: 5px;
        top: 5px;
      }
    </style>
    <style>
      .checkQs {
        position: fixed;
        right: 20px;
        bottom: 20px;
        width: 100px;
        height: 40px;
        background-color: #f6f6f6;
        border: 1px solid #ccc;
        border-radius: 5px;
        text-align: center;
        line-height: 40px;
        cursor: pointer;
      }
      .setYuYin {
        position: fixed;
        right: 20px;
        bottom: 80px;
        width: 100px;
        height: 40px;
        background-color: #f6f6f6;
        border: 1px solid #ccc;
        border-radius: 5px;
        text-align: center;
        line-height: 40px;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <a onclick="changeQS('pre')" class="button button-pill">上一题</a>
    <a onclick="changeQS('next')" class="button button-pill">下一题</a>
    <p id="logicName"></p>
    <div id="app" talqs-app></div>
    <button class="checkQs" onclick="checkQs()">判题</button>
    <button class="setYuYin" onclick="setYuYin()">语音跟读</button>
  </body>
  <script>
    var curQueId = "";
    var curAnswer = [];
    var curData = {
      org: "shujuyun",
      sys: "",
      jobNumber: "",
      teaEmail: "lihuhu@tal.com",
      stuId: "11"
    };
    // 获取 dom 根节点
    var app = document.getElementById("app");

    function setYuYin() {
      curAnswer = [""];
      TalqsInteraction.setData({
        queId: "41a8cbed79714978ad88d70090e49126",
        data: [
          "have the opportunity to live and work in the north as well as in the south of China, and the impression I got is that there are two very distinct Chinese looks. The northern girls are generally taller, of fairer and smoother complexion and mostly with double eyelids and sharper noses, as compared with their sisters in the south, especially those in Guangdong, Guangxi and Hainan"
        ],
        result: [1]
      });
      console.log("==设置成功");
    }

    function checkQs() {
      console.log(curQueId, "===curQueId");
      console.log(curAnswer, "==curAnswer");

      // const answerList = TalqsInteraction.getData(curQueId);
      // console.log(answerList, "==answerList");
      // const judgeResult = judge.byId(["823fb7beda52488aadeeffb258112868"], {
      //   org: "saasOrg10007240",
      //   sys: "xueqianlianxi",
      //   jobNumber: "",
      //   teaEmail: "lihuhu@tal.com",
      //   stuId: ""
      // });
      console.log(window.queData, "==window.queData");
      console.log(curAnswer, "==answer");
      // const judgeResult = judge.byData(
      //   {
      //     questionList: [window.queData],
      //     answerList: curAnswer
      //   },
      //   curData,
      //   {}
      // );
      // curAnswer = [];

      const judgeResult = judge.byId(["823fb7beda52488aadeeffb258112868"], curData);
      console.log(judgeResult, "===judgeResult");
    }
    // 内置组件列表
    const talComponents = TalqsTemplate.components;
    // 渲染试题
    var renderQS = function renderQS(queData) {
      curQueId = queData.queId;
      TalqsInteraction.setUserConfig(curData);
      app.innerHTML = TalqsTemplate.render(queData, {
        queIndex: currentIndex + 1, // 试题题号
        hideDifficulty: true,
        hideSource: true
        // analyzeVersion: 2 // 解析显示版本
      });

      TalqsTemplate.autoLayout();
      TalqsInteraction.initTqiQs();
      TalqsInteraction.onChange = function (data) {
        console.log(data, "===data");
        curAnswer = [data];
      };

      // TalqsInteraction.setData({
      //   queId: "823fb7beda52488aadeeffb258112868",
      //   data: ["A"],
      //   result: [1]
      // });
    };
  </script>
  <script src="./remote.js"></script>
</html>
